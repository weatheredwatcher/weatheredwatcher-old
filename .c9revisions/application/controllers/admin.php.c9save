{"ts":1349447201029,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"<?php if ( ! defined('BASEPATH')) exit('No direct script access allowed');\n\nclass Admin extends CI_Controller {\n\n\tfunction __construct()\n\t{\n\t\tparent::__construct();\n\t}\n\t\t\n\tfunction index()\n\t{\n\t\n\t\tif($this->session->userdata('logged_in') == true):\n\t\t\t$username = $this->session->userdata('username');\n\t\t\n\t\tredirect('admin/manage', 'refresh');\n\n\t\telse:\n\t\t\n\t\t    $this->load->view('admin/index_view');\n\t\t\t\n\t\t\n\t\tendif;\n\t\n\t}\n\t\n\t\n\tfunction write()\n\t{\n\t\tif($this->session->userdata('logged_in') == true):\n\t\t\n\t\t\n\t\t\t$this->load->model('Users_model', 'users');\n\t\t\t$data['authors'] = $this->users->get_authors();\n\t\t\t$this->load->view('admin/write_view', $data);\n\t\t\n\t\telse:\n\t\t\n\t\t\t$this->load->view('admin/index_view');\n\t\t\n\t\tendif;\n\t\t\n\t\t\n\t\t\n\t}\n\t\n\tfunction insert_page()\n\t{\n\t\t$this->load->helper('string');\n\t\t$this->load->helper('inflector');\n\t\t\n\t\t$this->load->model('Blog_model', 'blog');\n\t\t$this->blog->insert_entry();\n\t\tredirect('admin/manage', 'refresh');\n\t\t\n\t\t\n\t}\n\t\n\tfunction manage()\n\t{\n\t\t\n\t\tif($this->session->userdata('logged_in') == true):\n\t\t\n\t\t\n\t\t\t$this->load->model('Blog_model', 'blog');\n\t\t\t$data['entries'] = $this->blog->get_last_ten_entries();\n\t\t\t$this->load->view('admin/manage', $data);\n\n\t\t     \n\t\t\n\t\telse:\n\t\t\n\t\t\t$this->load->view('admin/index_view');\n\t\t\n\t\tendif;\n\t\t\n\t\t\n\t\t\n\t\t\n\t}\n\t\n\tfunction settings()\n\t{\n\t\t\n\t\tif($this->session->userdata('logged_in') == true):\n\t\t\n\t\t\n\t\t     $this->load->view('admin/settings_view');\n\t\t\n\t\telse:\n\t\t\n\t\t\t$this->load->view('admin/index_view');\n\t\t\n\t\tendif;\n\t\t\n\t\t\n\t}\n\t\n\tfunction users()\n\t{\n\t\tif($this->session->userdata('logged_in') == true):\n\t\t\n\t\t\n\t\t\n\t\t\t$this->load->model('Users_model', 'users');\n\t\t\t$data['users'] = $this->users->get_users();\n\t\t\t$this->load->view('admin/users_view', $data);\n\n\t\t     \n\t\t\n\t\telse:\n\t\t\n\t\t\t$this->load->view('admin/index_view');\n\t\t\n\t\tendif;\n\t\t\n\t\t\n\t}\n\t\n\tfunction logout()\n\t{\n\t$this->session->sess_destroy();\n\t\n\tredirect('/', 'refresh');\n\t\n\t}\n\n}"]],"start1":0,"start2":0,"length1":0,"length2":1903}]],"length":1903}
